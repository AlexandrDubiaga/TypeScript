(this.webpackJsonpscript=this.webpackJsonpscript||[]).push([[0],{20:function(t,e,n){},31:function(t,e,n){t.exports=n(61)},36:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(15),s=n.n(r),i=(n(36),n(3)),c=n(4),l=n(6),u=n(5),d=n(7),p=(n(20),function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isVisible:!1},n.updateTodoTitle=function(t){n.props.changeTodoTitle(n.props.idTodo,t.currentTarget.value)},n.setTodoTitle=function(){n.props.updateTodoTitle(n.props.idTodo,n.props.title),n.setState({isVisible:!1})},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"TodoTitle"},this.state.isVisible?o.a.createElement("div",null,o.a.createElement("input",{onChange:this.updateTodoTitle,autoFocus:!0,onBlur:this.setTodoTitle,value:this.props.title})):o.a.createElement("div",{onDoubleClick:function(){return t.setState({isVisible:!0})}},this.props.title,o.a.createElement("button",{onClick:function(){return t.props.deleteTodolist(t.props.idTodo)}},"x")))}}]),e}(o.a.Component)),f=n(12),T=n(2),h=n.n(T),k=n(10),m=n(14),b=n(1),v=n(43).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"ec13c7fa-bf13-4b56-aa9c-409a1e523851"}}),O=function(){return v.get("todo-lists")},j=function(t){return v.post("todo-lists",{title:t})},E=function(t){return v.delete("todo-lists/".concat(t))},g=function(t,e){return v.put("todo-lists/".concat(t),{title:e})},y=function(t){return v.get("todo-lists/".concat(t,"/tasks"))},w=function(t,e){return v.post("todo-lists/".concat(t,"/tasks"),{title:e})},I=function(t,e){return v.delete("todo-lists/".concat(t,"/tasks/").concat(e))},C=function(t,e,n){return v.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},A={todolists:[],filterValue:"All"},N=function(t){return{type:"ADD_TODOLIST",newTodolist:t}},S=function(t){return{type:"DELL_TODOLIST",idTodo:t}},V=function(t,e){return{type:"SET_TASKS",todoId:t,tasks:e}},L=function(t,e){return{type:"ADD_TASK",todoId:t,task:e}},D=function(t,e){return{type:"DELL_TASK",todoId:t,taskId:e}},x=function(t,e,n){return{type:"CHANGE_TASK",todoId:t,taskId:e,task:n}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLIST":return Object(b.a)({},t,{todolists:e.nextTodo.map((function(t){return Object(b.a)({},t,{tasks:[]})}))});case"ADD_TODOLIST":return Object(b.a)({},t,{todolists:[].concat(Object(m.a)(t.todolists),[Object(b.a)({},e.newTodolist,{tasks:[]})])});case"DELL_TODOLIST":return Object(b.a)({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.idTodo}))});case"CHANGE_TODO_TITLE":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.idTodo?Object(b.a)({},t,{title:e.title}):t}))});case"SET_TASKS":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:Object(m.a)(e.tasks)}):t}))});case"ADD_TASK":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:[].concat(Object(m.a)(t.tasks),[Object(b.a)({},e.task)])}):t}))});case"DELL_TASK":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case"CHANGE_TASK":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:Object(m.a)(t.tasks.map((function(t){return t.id===e.taskId?Object(b.a)({},t,{},e.task):t})))}):t}))});case"CHANGE_FILTER":return Object(b.a)({},t,{filterValue:e.filter})}return t},F=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={value:""},n.onClick=function(){n.setState({value:""}),n.props.addItem(n.state.value)},n.onChange=function(t){n.setState({value:t.currentTarget.value})},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"AddNewItemBlock"},o.a.createElement("h4",{className:"nameBlock"},this.props.nameValue),o.a.createElement("div",null,o.a.createElement("input",{type:"text",onChange:this.onChange,value:this.state.value}),o.a.createElement("button",{disabled:""==this.state.value,onClick:this.onClick},"Add")))}}]),e}(o.a.Component),H=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isVisible:!1,priority:["Low","Middle","Hi","Urgently","Later"]},n.setChangeTask=function(){n.props.changeTaskInTodolist(n.props.idTodo,n.props.idTask,n.props.task),n.setState({isVisible:!1})},n.updateTaskInTodolist=function(t){var e;switch(t.currentTarget[1].value){case"Low":e=0;break;case"Middle":e=1;break;case"Hi":e=2;break;case"Urgently":e=3;break;case"Later":e=4;break;default:e=5}var a={title:t.currentTarget[0].value,priority:e};n.props.updateTaskInTodolist(n.props.idTodo,n.props.idTask,a)},n.changeStatus=function(t){var e;e=t.currentTarget.checked?2:1;var a=Object(b.a)({},n.props.task,{status:e});n.props.changeTaskInTodolist(n.props.idTodo,n.props.idTask,a)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t,e=this;switch(this.props.task.priority){case 0:t="Low";break;case 1:t="Middle";break;case 2:t="Hi";break;case 3:t="Urgently";break;case 4:t="Later";break;default:t="Server error"}return o.a.createElement("div",{className:"OneTask"},this.state.isVisible?o.a.createElement("div",{className:"OneTaskBlockUpdate"},o.a.createElement("form",{onChange:this.updateTaskInTodolist,className:"form"},o.a.createElement("p",null,"Title:")," ",o.a.createElement("textarea",{autoFocus:!0,value:this.props.task.title}),o.a.createElement("div",null,o.a.createElement("p",null,"Priority:"),o.a.createElement("select",{value:t},this.state.priority.map((function(t,e){return o.a.createElement("option",{key:e},t)})))),o.a.createElement("button",{className:"editButton",onClick:this.setChangeTask}," EDIT"))):o.a.createElement("div",{className:"OneTaskBlock",onDoubleClick:function(){return e.setState({isVisible:!0})}},o.a.createElement("div",{className:"showTasksContent"},o.a.createElement("div",null,o.a.createElement("input",{checked:2===this.props.task.status,onChange:this.changeStatus,type:"checkbox"}),o.a.createElement("p",null,"Title:")),o.a.createElement("div",{className:"oneTaskContent"},this.props.task.title+" ")),o.a.createElement("div",null,o.a.createElement("p",null,"Priority:")," ",t),o.a.createElement("p",null,"Delete task: "),o.a.createElement("button",{onClick:function(){return e.props.deleteTask(e.props.idTodo,e.props.idTask)}},"x")))}}]),e}(o.a.Component),K=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",null,this.props.tasks.map((function(e){return o.a.createElement(H,{deleteTask:t.props.deleteTask,changeTaskInTodolist:t.props.changeTaskInTodolist,updateTaskInTodolist:t.props.updateTaskInTodolist,idTodo:t.props.idTodo,task:e,idTask:e.id})})))}}]),e}(o.a.Component),B=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"All"===this.props.filterValue?"All":"",onClick:this.props.changeFilterValue,value:"All"},"All"),o.a.createElement("button",{className:"Completed"===this.props.filterValue?"Completed":"",onClick:this.props.changeFilterValue,value:"Completed"},"Completed"),o.a.createElement("button",{className:"Active"===this.props.filterValue?"Active":"",onClick:this.props.changeFilterValue,value:"Active"},"Active"),o.a.createElement("button",{className:"New"===this.props.filterValue?"New":"",onClick:this.props.changeFilterValue,value:"New"},"New"))}}]),e}(o.a.Component),G=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).updateTodoTitle=function(t,e){n.props.updateTodolistTitleServer(t,e)},n.changeTodoTitle=function(t,e){n.props.updateTodolistTitleLocal(t,e)},n.deleteTodolist=function(t){n.props.dellTodo(t)},n.addNewTask=function(t){n.props.addTaskInTodolist(n.props.id,t)},n.deleteTask=function(t,e){n.props.deleteTask(t,e)},n.changeTaskInTodolist=function(t,e,a){n.props.setTaskInCurrentTodoServer(t,e,a)},n.updateTaskInTodolist=function(t,e,a){n.props.updateTaskLocal(t,e,a)},n.changeFilterValue=function(t){n.props.changeFilter(t.currentTarget.value)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.setTasks(this.props.id,this.props.tasks)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"TodoList"},o.a.createElement(p,{changeTodoTitle:this.changeTodoTitle,updateTodoTitle:this.updateTodoTitle,idTodo:this.props.id,deleteTodolist:this.deleteTodolist,title:this.props.title}),o.a.createElement(F,{nameValue:"Add Task",addItem:this.addNewTask}),o.a.createElement(K,{changeTaskInTodolist:this.changeTaskInTodolist,updateTaskInTodolist:this.updateTaskInTodolist,deleteTask:this.deleteTask,idTodo:this.props.id,tasks:this.props.tasks.filter((function(e){return"All"===t.props.filterValue||("Completed"===t.props.filterValue?2===e.status:"Active"===t.props.filterValue?1===e.status:0===e.status)}))}),o.a.createElement(B,{filterValue:this.props.filterValue,changeFilterValue:this.changeFilterValue}))}}]),e}(o.a.Component),M=Object(f.b)((function(t){return{todolists:t.todo.todolists,filterValue:t.todo.filterValue}}),(function(t){return{setTasks:function(e,n){t(function(t,e){return function(){var e=Object(k.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t).then((function(e){n(V(t,e.data.items))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},dellTodo:function(e){t(function(t){return function(){var e=Object(k.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t).then((function(e){n(S(t))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},updateTodolistTitleServer:function(e,n){t(function(t,e){return function(){var n=Object(k.a)(h.a.mark((function n(a){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(t,e);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},updateTodolistTitleLocal:function(e,n){t(function(t,e){return{type:"CHANGE_TODO_TITLE",idTodo:t,title:e}}(e,n))},addTaskInTodolist:function(e,n){var a,o;t((a=e,o=n,function(){var t=Object(k.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(a,o).then((function(t){e(L(a,t.data.data.item))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},deleteTask:function(e,n){t(function(t,e){return function(){var n=Object(k.a)(h.a.mark((function n(a){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I(t,e).then((function(n){a(D(t,e))}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},updateTaskLocal:function(e,n,a){t(x(e,n,a))},setTaskInCurrentTodoServer:function(e,n,a){t(function(t,e,n){return function(){var a=Object(k.a)(h.a.mark((function a(o){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:C(t,e,n).then((function(n){o(x(t,e,n.data.data.item))}));case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(e,n,a))},changeFilter:function(e){t(function(t){return{type:"CHANGE_FILTER",filter:t}}(e))}}}))(G),U=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).addNewTodo=function(t){n.props.addTodo(t)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.getTodolists()}},{key:"render",value:function(){var t=this.props.todolists.map((function(t){return o.a.createElement(M,{id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"AddNewTodolist"},o.a.createElement(F,{nameValue:"Add Todolist",addItem:this.addNewTodo})),o.a.createElement("div",{className:"App"},t))}}]),e}(o.a.Component),P=Object(f.b)((function(t){return{todolists:t.todo.todolists}}),(function(t){return{getTodolists:function(){t(function(){var t=Object(k.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O().then((function(t){e({type:"SET_TODOLIST",nextTodo:t.data})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},addTodo:function(e){var n;t((n=e,function(){var t=Object(k.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(n).then((function(t){e(N(t.data.data.item))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}}))(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(13),J=n(30),W=Object(R.c)({todo:_}),Y=Object(R.d)(W,Object(R.a)(J.a));s.a.render(o.a.createElement(f.a,{store:Y},o.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.09286eb0.chunk.js.map