(this.webpackJsonpscript=this.webpackJsonpscript||[]).push([[0],{20:function(t,e,a){},31:function(t,e,a){t.exports=a(61)},36:function(t,e,a){},61:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(15),s=a.n(r),i=(a(36),a(3)),c=a(4),l=a(6),u=a(5),d=a(7),p=(a(20),function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isVisible:!1},a.updateTodoTitle=function(t){a.props.changeTodoTitle(a.props.idTodo,t.currentTarget.value)},a.setTodoTitle=function(){a.props.updateTodoTitle(a.props.idTodo,a.props.title),a.setState({isVisible:!1})},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"TodoTitle"},this.state.isVisible?o.a.createElement("div",null,o.a.createElement("input",{className:"input",onChange:this.updateTodoTitle,autoFocus:!0,onBlur:this.setTodoTitle,value:this.props.title})):o.a.createElement("div",{onDoubleClick:function(){return t.setState({isVisible:!0})}},this.props.title,o.a.createElement("button",{onClick:function(){return t.props.deleteTodolist(t.props.idTodo)}},"x")))}}]),e}(o.a.Component)),f=a(12),T=a(2),h=a.n(T),k=a(10),m=a(14),b=a(1),v=a(43).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"ec13c7fa-bf13-4b56-aa9c-409a1e523851"}}),O=function(){return v.get("todo-lists")},j=function(t){return v.post("todo-lists",{title:t})},E=function(t){return v.delete("todo-lists/".concat(t))},g=function(t,e){return v.put("todo-lists/".concat(t),{title:e})},y=function(t){return v.get("todo-lists/".concat(t,"/tasks"))},w=function(t,e){return v.post("todo-lists/".concat(t,"/tasks"),{title:e})},I=function(t,e){return v.delete("todo-lists/".concat(t,"/tasks/").concat(e))},C=function(t,e,a){return v.put("todo-lists/".concat(t,"/tasks/").concat(e),a)},A={todolists:[],filterValue:"All"},N=function(t){return{type:"ADD_TODOLIST",newTodolist:t}},S=function(t){return{type:"DELL_TODOLIST",idTodo:t}},L=function(t,e){return{type:"SET_TASKS",todoId:t,tasks:e}},V=function(t,e){return{type:"ADD_TASK",todoId:t,task:e}},D=function(t,e){return{type:"DELL_TASK",todoId:t,taskId:e}},x=function(t,e,a){return{type:"CHANGE_TASK",todoId:t,taskId:e,task:a}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLIST":return Object(b.a)({},t,{todolists:e.nextTodo.map((function(t){return Object(b.a)({},t,{tasks:[]})}))});case"ADD_TODOLIST":return Object(b.a)({},t,{todolists:[].concat(Object(m.a)(t.todolists),[Object(b.a)({},e.newTodolist,{tasks:[]})])});case"DELL_TODOLIST":return Object(b.a)({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.idTodo}))});case"CHANGE_TODO_TITLE":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.idTodo?Object(b.a)({},t,{title:e.title}):t}))});case"SET_TASKS":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:Object(m.a)(e.tasks)}):t}))});case"ADD_TASK":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:[].concat(Object(m.a)(t.tasks),[Object(b.a)({},e.task)])}):t}))});case"DELL_TASK":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case"CHANGE_TASK":return Object(b.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todoId?Object(b.a)({},t,{tasks:Object(m.a)(t.tasks.map((function(t){return t.id===e.taskId?Object(b.a)({},t,{},e.task):t})))}):t}))});case"CHANGE_FILTER":return Object(b.a)({},t,{filterValue:e.filter})}return t},F=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={value:""},a.onClick=function(){a.setState({value:""}),a.props.addItem(a.state.value)},a.onChange=function(t){a.setState({value:t.currentTarget.value})},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"AddNewItemBlock"},o.a.createElement("h4",{className:"nameBlock"},this.props.nameValue),o.a.createElement("div",null,o.a.createElement("input",{className:"input",type:"text",onChange:this.onChange,value:this.state.value}),o.a.createElement("button",{className:"AddNewItemButton",disabled:""===this.state.value,onClick:this.onClick},""===this.state.value?"Disabled":"Add")),o.a.createElement("div",{className:"ErrorLenght"}))}}]),e}(o.a.Component),B=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isVisible:!1,priority:["Low","Middle","Hi","Urgently","Later"]},a.setChangeTask=function(){a.props.changeTaskInTodolist(a.props.idTodo,a.props.idTask,a.props.task),a.setState({isVisible:!1})},a.updateTaskInTodolist=function(t){var e;switch(t.currentTarget[1].value){case"Low":e=0;break;case"Middle":e=1;break;case"Hi":e=2;break;case"Urgently":e=3;break;case"Later":e=4;break;default:e=5}var n={title:t.currentTarget[0].value,priority:e};a.props.updateTaskInTodolist(a.props.idTodo,a.props.idTask,n)},a.changeStatus=function(t){var e;e=t.currentTarget.checked?2:1;var n=Object(b.a)({},a.props.task,{status:e});a.props.changeTaskInTodolist(a.props.idTodo,a.props.idTask,n)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t,e=this;switch(this.props.task.priority){case 0:t="Low";break;case 1:t="Middle";break;case 2:t="Hi";break;case 3:t="Urgently";break;case 4:t="Later";break;default:t="Server error"}return o.a.createElement("div",{className:"OneTask"},this.state.isVisible?o.a.createElement("div",{className:"OneTaskBlockUpdate"},o.a.createElement("form",{onChange:this.updateTaskInTodolist,className:"form"},o.a.createElement("p",null,"Title:")," ",o.a.createElement("textarea",{autoFocus:!0,value:this.props.task.title}),o.a.createElement("div",null,o.a.createElement("p",null,"Priority:"),o.a.createElement("select",{value:t},this.state.priority.map((function(t,e){return o.a.createElement("option",{key:e},t)})))),o.a.createElement("button",{className:"editButton",onClick:this.setChangeTask}," EDIT"))):o.a.createElement("div",{className:"OneTaskBlock",onDoubleClick:function(){return e.setState({isVisible:!0})}},o.a.createElement("div",{className:"showTasksContent"},o.a.createElement("div",null,o.a.createElement("input",{checked:2===this.props.task.status,onChange:this.changeStatus,type:"checkbox"}),o.a.createElement("p",null,"Title:")),o.a.createElement("div",{className:"oneTaskContent"},this.props.task.title+" ")),o.a.createElement("div",null,o.a.createElement("p",null,"Priority:")," ",t),o.a.createElement("p",null,"Delete task: "),o.a.createElement("button",{onClick:function(){return e.props.deleteTask(e.props.idTodo,e.props.idTask)}},"x")))}}]),e}(o.a.Component),H=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",null,this.props.tasks.map((function(e){return o.a.createElement(B,{deleteTask:t.props.deleteTask,changeTaskInTodolist:t.props.changeTaskInTodolist,updateTaskInTodolist:t.props.updateTaskInTodolist,idTodo:t.props.idTodo,task:e,idTask:e.id})})))}}]),e}(o.a.Component),K=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"All"===this.props.filterValue?"All":"",onClick:this.props.changeFilterValue,value:"All"},"All"),o.a.createElement("button",{className:"Completed"===this.props.filterValue?"Completed":"",onClick:this.props.changeFilterValue,value:"Completed"},"Completed"),o.a.createElement("button",{className:"Active"===this.props.filterValue?"Active":"",onClick:this.props.changeFilterValue,value:"Active"},"Active"),o.a.createElement("button",{className:"New"===this.props.filterValue?"New":"",onClick:this.props.changeFilterValue,value:"New"},"New"))}}]),e}(o.a.Component),G=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).updateTodoTitle=function(t,e){a.props.updateTodolistTitleServer(t,e)},a.changeTodoTitle=function(t,e){a.props.updateTodolistTitleLocal(t,e)},a.deleteTodolist=function(t){a.props.dellTodo(t)},a.addNewTask=function(t){a.props.addTaskInTodolist(a.props.id,t)},a.deleteTask=function(t,e){a.props.deleteTask(t,e)},a.changeTaskInTodolist=function(t,e,n){a.props.setTaskInCurrentTodoServer(t,e,n)},a.updateTaskInTodolist=function(t,e,n){a.props.updateTaskLocal(t,e,n)},a.changeFilterValue=function(t){a.props.changeFilter(t.currentTarget.value)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.setTasks(this.props.id,this.props.tasks)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"TodoList"},o.a.createElement(p,{changeTodoTitle:this.changeTodoTitle,updateTodoTitle:this.updateTodoTitle,idTodo:this.props.id,deleteTodolist:this.deleteTodolist,title:this.props.title}),o.a.createElement(F,{nameValue:"Add Task",addItem:this.addNewTask}),o.a.createElement(H,{changeTaskInTodolist:this.changeTaskInTodolist,updateTaskInTodolist:this.updateTaskInTodolist,deleteTask:this.deleteTask,idTodo:this.props.id,tasks:this.props.tasks.filter((function(e){return"All"===t.props.filterValue||("Completed"===t.props.filterValue?2===e.status:"Active"===t.props.filterValue?1===e.status:0===e.status)}))}),o.a.createElement(K,{filterValue:this.props.filterValue,changeFilterValue:this.changeFilterValue}))}}]),e}(o.a.Component),M=Object(f.b)((function(t){return{todolists:t.todo.todolists,filterValue:t.todo.filterValue}}),(function(t){return{setTasks:function(e,a){t(function(t,e){return function(){var e=Object(k.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t).then((function(e){a(L(t,e.data.items))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},dellTodo:function(e){t(function(t){return function(){var e=Object(k.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t).then((function(e){a(S(t))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},updateTodolistTitleServer:function(e,a){t(function(t,e){return function(){var a=Object(k.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g(t,e);case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(e,a))},updateTodolistTitleLocal:function(e,a){t(function(t,e){return{type:"CHANGE_TODO_TITLE",idTodo:t,title:e}}(e,a))},addTaskInTodolist:function(e,a){var n,o;t((n=e,o=a,function(){var t=Object(k.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(n,o).then((function(t){e(V(n,t.data.data.item))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},deleteTask:function(e,a){t(function(t,e){return function(){var a=Object(k.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(t,e).then((function(a){n(D(t,e))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}(e,a))},updateTaskLocal:function(e,a,n){t(x(e,a,n))},setTaskInCurrentTodoServer:function(e,a,n){t(function(t,e,a){return function(){var n=Object(k.a)(h.a.mark((function n(o){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:C(t,e,a).then((function(a){o(x(t,e,a.data.data.item))}));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,a,n))},changeFilter:function(e){t(function(t){return{type:"CHANGE_FILTER",filter:t}}(e))}}}))(G),U=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).addNewTodo=function(t){a.props.addTodo(t)},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.getTodolists()}},{key:"render",value:function(){var t=this.props.todolists.map((function(t){return o.a.createElement(M,{id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"AddNewTodolist"},o.a.createElement(F,{nameValue:"Add To Do List",addItem:this.addNewTodo})),o.a.createElement("div",{className:"App"},t))}}]),e}(o.a.Component),P=Object(f.b)((function(t){return{todolists:t.todo.todolists}}),(function(t){return{getTodolists:function(){t(function(){var t=Object(k.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O().then((function(t){e({type:"SET_TODOLIST",nextTodo:t.data})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},addTodo:function(e){var a;t((a=e,function(){var t=Object(k.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(a).then((function(t){e(N(t.data.data.item))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}}))(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(13),J=a(30),W=Object(R.c)({todo:_}),Y=Object(R.d)(W,Object(R.a)(J.a));s.a.render(o.a.createElement(f.a,{store:Y},o.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.748577d8.chunk.js.map